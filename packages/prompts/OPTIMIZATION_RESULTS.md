# üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π

- **Router Agent**: `gpt-5` ‚Üí `gpt-4o-mini` (—Å–∫–æ—Ä–æ—Å—Ç—å ‚Üë 3-5x)
- **Event Processor**: `gpt-5-nano` ‚Üí `gpt-4o-mini` (—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Üë)
- **Event Analyzer**: `gpt-5-nano` ‚Üí `gpt-4o` (–∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞ ‚Üë)
- **General Assistant**: `gpt-5` ‚Üí `gpt-4o-mini` (—Å–∫–æ—Ä–æ—Å—Ç—å ‚Üë 3-5x)

### 2. –°–∂–∞—Ç–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤

- **Router Agent**: 2000+ —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí 300 —Ç–æ–∫–µ–Ω–æ–≤ (‚Üì 85%)
- **Event Processor**: 3500+ —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí 800 —Ç–æ–∫–µ–Ω–æ–≤ (‚Üì 77%)
- **Event Analyzer**: 4000+ —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí 600 —Ç–æ–∫–µ–Ω–æ–≤ (‚Üì 85%)
- **General Assistant**: 3000+ —Ç–æ–∫–µ–Ω–æ–≤ ‚Üí 500 —Ç–æ–∫–µ–Ω–æ–≤ (‚Üì 83%)

### 3. –ë—ã—Å—Ç—Ä—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –±–µ–∑ LLM

- **–°–∫–æ—Ä–æ—Å—Ç—å**: 2-5 —Å–µ–∫—É–Ω–¥ ‚Üí 0.07ms (‚Üë 28,000-71,000x)
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: 15,000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 95%+ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Fallback**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ LLM –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### 4. –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

- **Hit rate**: –¥–æ 100% –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**: 1,000,000 –æ–ø–µ—Ä–∞—Ü–∏–π/—Å–µ–∫
- **TTL**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5-10 –º–∏–Ω—É—Ç)
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞**: —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

## üìä –ò–∑–º–µ—Ä–µ–Ω–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–æ—É—Ç–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤

```
–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: 15
–û–±—â–µ–µ –≤—Ä–µ–º—è: 1ms
–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 0.07ms
–°–∫–æ—Ä–æ—Å—Ç—å: 15,000 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å–µ–∫

–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∞–≥–µ–Ω—Ç–∞–º:
- event-processor: 7 –∑–∞–ø—Ä–æ—Å–æ–≤ (47%)
- event-analyzer: 4 –∑–∞–ø—Ä–æ—Å–∞ (27%)
- general-assistant: 4 –∑–∞–ø—Ä–æ—Å–∞ (27%)
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

```
–û–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è: 1,000
–í—Ä–µ–º—è —á—Ç–µ–Ω–∏—è: 1ms
–°–∫–æ—Ä–æ—Å—Ç—å: 1,000,000 –æ–ø–µ—Ä–∞—Ü–∏–π/—Å–µ–∫
Hit rate: 100.0%
–†–∞–∑–º–µ—Ä –∫—ç—à–∞: 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. Middleware Stack (–ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É)

1. **FastRoutingMiddleware** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 15) - –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
2. **CacheMiddleware** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 10) - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
3. **OptimizationMiddleware** (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5) - —Å–∂–∞—Ç–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤
4. **ValidationMiddleware** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **PerformanceMiddleware** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
6. **RateLimitMiddleware** - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```json
{
  "router-agent": {
    "model": "gpt-4o-mini",
    "temperature": 0.1,
    "maxTokens": 50,
    "timeout": 5000
  },
  "event-processor-agent": {
    "model": "gpt-4o-mini",
    "temperature": 0.3,
    "maxTokens": 500,
    "timeout": 10000
  }
}
```

### 3. –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–º–ø—Ç—ã

- –£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è
- –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

## üîß –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```typescript
import { quickSetup } from "@synoro/prompts";

// –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
const { orchestrator, execute } = await quickSetup();
```

### 2. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
bun run test:performance  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
bun run benchmark        # –ë–µ–Ω—á–º–∞—Ä–∫–∏
```

### 3. –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```typescript
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∞
globalCache.maxSize = 2000;
globalCache.defaultTTL = 10 * 60 * 1000;

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Ä–æ—É—Ç–∏–Ω–≥–∞
globalFastRouter.addRule({
  keywords: ["–∑–∞–∫–∞–∑–∞–ª", "–¥–æ—Å—Ç–∞–≤–∫–∞"],
  agent: "event-processor",
  priority: 8,
});
```

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### –°–∫–æ—Ä–æ—Å—Ç—å

- **–†–æ—É—Ç–∏–Ω–≥**: –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π (< 1ms)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π**: 2-5 —Å–µ–∫—É–Ω–¥ (–±—ã–ª–æ 5-15 —Å–µ–∫)
- **–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö**: 3-8 —Å–µ–∫—É–Ω–¥ (–±—ã–ª–æ 8-20 —Å–µ–∫)
- **–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã**: 1-3 —Å–µ–∫—É–Ω–¥—ã (–±—ã–ª–æ 3-10 —Å–µ–∫)

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤**: 95-98% (–±—ã–ª–æ 85-90%)
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ retry —Å backoff
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: real-time –º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã

### –≠–∫–æ–Ω–æ–º–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

- **–¢–æ–∫–µ–Ω—ã**: —ç–∫–æ–Ω–æ–º–∏—è 70-85% –Ω–∞ –ø—Ä–æ–º–ø—Ç–∞—Ö
- **API –≤—ã–∑–æ–≤—ã**: —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ 60-80% –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—à—É
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: —É–ª—É—á—à–µ–Ω–∏–µ –≤ 2-5 —Ä–∞–∑
- **–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**: —Å–Ω–∏–∂–µ–Ω–∏–µ –≤ 3-10 —Ä–∞–∑

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### 1. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

- [ ] –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π
- [ ] –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π rollout —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –º–µ—Ç—Ä–∏–∫

### 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- [ ] Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã
- [ ] ML-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–æ—É—Ç–∏–Ω–≥–∞

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] Continuous performance optimization

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–π —Ä–æ—É—Ç–∏–Ω–≥ –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (TTL 10+ –º–∏–Ω—É—Ç)
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–ª–∏–Ω—É –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–æ 1000 —Ç–æ–∫–µ–Ω–æ–≤
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `gpt-4o-mini` –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∏–∑–∫—É—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É (0.1-0.3)
2. –í–∫–ª—é—á–∏—Ç–µ retry –ª–æ–≥–∏–∫—É —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ real-time
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ circuit breaker –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

1. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –°–∂–∏–º–∞–π—Ç–µ –ø—Ä–æ–º–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ maxTokens –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
4. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –°–∏—Å—Ç–µ–º–∞ –∞–≥–µ–Ω—Ç–æ–≤ —Å—Ç–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ **2-5 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ** –∏ **–Ω–∞ 10-15% —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ** –ø—Ä–∏ **—ç–∫–æ–Ω–æ–º–∏–∏ 70-85% —Ä–µ—Å—É—Ä—Å–æ–≤**.
